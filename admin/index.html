<!DOCTYPE html>
<html lang="id" data-bs-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Kelola Berita</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .table-actions {
            white-space: nowrap;
        }

        .preview-image {
            max-width: 100px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
        }

        .article-title {
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .status-badge {
            font-size: 0.75rem;
        }
    </style>
</head>

<body class="bg-light">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="../index.html">
                <i class="fas fa-newspaper me-2"></i>Magzine Admin
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">
                            <i class="fas fa-eye me-1"></i>Lihat Website
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-1"></i>Logout
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid p-4">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1 class="h3 mb-1">Kelola Berita</h1>
                <p class="text-muted mb-0">Buat, edit, dan kelola artikel berita</p>
            </div>
            <a href="add.html" class="btn btn-primary">
                <i class="fas fa-plus me-2"></i>Tambah Berita
            </a>
        </div>


        <!-- Articles Table -->
        <div class="card">
            <div class="card-header bg-white">
                <div class="d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">Daftar Berita</h5>
                    <span class="badge bg-secondary" id="totalArticles">Total: 3 artikel</span>
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>Gambar</th>
                                <th>Judul</th>
                                <th>Deskripsi</th>
                                <th>Penulis</th>
                                <th>Jabatan</th>
                                <th>Kategori</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="articlesTable">
                            <tr>
                                <td>
                                    <img src="https://picsum.photos/seed/business1/500/300" alt="Preview"
                                        class="preview-image">
                                </td>
                                <td>
                                    <div class="fw-semibold">Your most unhappy customers are your greatest source of
                                        learning.</div>
                                </td>
                                <td>
                                    <small class="text-muted">Far far away, behind the word mountains, far from the
                                        countries Vokalia and Consonantia, there live the blind texts.</small>
                                </td>
                                <td>Sergey Campbell</td>
                                <td>Senior Editor</td>
                                <td>
                                    <span class="badge bg-info text-dark">Bisnis</span>
                                </td>
                                <td class="table-actions">
                                    <div class="btn-group btn-group-sm">
                                        <a href="edit.html?id=1" class="btn btn-outline-primary" title="Edit">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                        <button class="btn btn-outline-danger" onclick="deleteArticle(1)" title="Hapus">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img src="https://picsum.photos/seed/tech2/500/300" alt="Preview"
                                        class="preview-image">
                                </td>
                                <td>
                                    <div class="article-title fw-semibold">Masa Depan Teknologi AI dalam Bisnis Modern
                                    </div>
                                </td>
                                <td>
                                    <small class="text-muted">Artikel tentang perkembangan kecerdasan buatan dan
                                        dampaknya terhadap dunia bisnis modern saat ini.</small>
                                </td>
                                <td>Anna Rodriguez</td>
                                <td>Senior Tech Writer</td>
                                <td>
                                    <span class="badge bg-primary text-white">Teknologi</span>
                                </td>
                                <td class="table-actions">
                                    <div class="btn-group btn-group-sm">
                                        <a href="edit.html?id=2" class="btn btn-outline-primary" title="Edit">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                        <button class="btn btn-outline-danger" onclick="deleteArticle(2)" title="Hapus">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img src="https://picsum.photos/seed/sport3/500/300" alt="Preview"
                                        class="preview-image">
                                </td>
                                <td>
                                    <div class="article-title fw-semibold">Olimpiade 2032: Harapan dan Persiapan
                                        Indonesia</div>
                                </td>
                                <td>
                                    <small class="text-muted">Persiapan Indonesia menghadapi Olimpiade 2032 dan harapan
                                        meraih prestasi terbaik di ajang internasional.</small>
                                </td>
                                <td>Rahman Hakim</td>
                                <td>Sports Correspondent</td>
                                <td>
                                    <span class="badge bg-success text-white">Olahraga</span>
                                </td>
                                <td class="table-actions">
                                    <div class="btn-group btn-group-sm">
                                        <a href="edit.html?id=3" class="btn btn-outline-primary" title="Edit">
                                            <i class="fas fa-edit"></i>
                                        </a>
                                        <button class="btn btn-outline-danger" onclick="deleteArticle(3)" title="Hapus">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-footer bg-white">
                <nav aria-label="Pagination">
                    <ul class="pagination pagination-sm justify-content-center mb-0">
                        <li class="page-item disabled">
                            <span class="page-link">Sebelumnya</span>
                        </li>
                        <li class="page-item active">
                            <span class="page-link">1</span>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="#">2</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="#">Selanjutnya</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    </div>
    </div>

    <!-- Add/Edit Article Modal -->
    <div class="modal fade" id="addArticleModal" tabindex="-1" aria-labelledby="addArticleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addArticleModalLabel">Tambah Berita Baru</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="articleForm">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-8">
                                <!-- Article Title -->
                                <div class="mb-3">
                                    <label for="articleTitle" class="form-label">Judul Berita <span
                                            class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="articleTitle" name="title" required
                                        placeholder="Masukkan judul berita...">
                                </div>

                                <!-- Article Subtitle -->
                                <div class="mb-3">
                                    <label for="articleSubtitle" class="form-label">Subjudul</label>
                                    <input type="text" class="form-control" id="articleSubtitle" name="subtitle"
                                        placeholder="Masukkan subjudul (opsional)...">
                                </div>

                                <!-- Article Content -->
                                <div class="mb-3">
                                    <label for="articleContent" class="form-label">Konten <span
                                            class="text-danger">*</span></label>
                                    <div class="mb-2">
                                        <div class="btn-group btn-group-sm" role="group">
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="formatText('bold')" title="Bold">
                                                <i class="fas fa-bold"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="formatText('italic')" title="Italic">
                                                <i class="fas fa-italic"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="formatText('heading')" title="Heading">
                                                <i class="fas fa-heading"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="formatText('list')" title="List">
                                                <i class="fas fa-list-ul"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary"
                                                onclick="formatText('link')" title="Link">
                                                <i class="fas fa-link"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <textarea class="form-control" id="articleContent" name="content" rows="10" required
                                        placeholder="Tulis konten berita di sini..."></textarea>
                                    <div class="form-text">Gunakan formatting toolbar di atas untuk styling teks.</div>
                                </div>

                                <!-- SEO Meta -->
                                <div class="mb-3">
                                    <label for="metaDescription" class="form-label">Meta Description (SEO)</label>
                                    <textarea class="form-control" id="metaDescription" name="meta_description" rows="2"
                                        placeholder="Deskripsi singkat untuk SEO (maksimal 160 karakter)..."></textarea>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <!-- Featured Image -->
                                <div class="mb-3">
                                    <label for="featuredImage" class="form-label">Gambar Utama</label>
                                    <div class="border rounded p-3 text-center" id="dropZone"
                                        style="border-style: dashed !important; cursor: pointer;"
                                        onclick="document.getElementById('featuredImage').click()">
                                        <i class="fas fa-cloud-upload-alt fa-2x text-muted mb-2"></i>
                                        <p class="text-muted mb-2">Klik untuk pilih gambar atau drag & drop</p>
                                        <small class="text-muted">JPG, PNG, GIF (Max 5MB)</small>
                                    </div>
                                    <input type="file" class="form-control d-none" id="featuredImage" name="image"
                                        accept="image/*" onchange="previewImage(event)">
                                    <div class="mt-2">
                                        <img id="imagePreview" src="#" alt="Preview" class="img-fluid rounded"
                                            style="max-height: 200px; display: none;">
                                    </div>
                                </div>

                                <!-- Category -->
                                <div class="mb-3">
                                    <label for="articleCategory" class="form-label">Kategori <span
                                            class="text-danger">*</span></label>
                                    <select class="form-select" id="articleCategory" name="category" required>
                                        <option value="">Pilih kategori...</option>
                                        <option value="bisnis">Bisnis</option>
                                        <option value="teknologi">Teknologi</option>
                                        <option value="olahraga">Olahraga</option>
                                        <option value="hiburan">Hiburan</option>
                                        <option value="politik">Politik</option>
                                        <option value="kesehatan">Kesehatan</option>
                                    </select>
                                </div>

                                <!-- Author -->
                                <div class="mb-3">
                                    <label for="articleAuthor" class="form-label">Penulis <span
                                            class="text-danger">*</span></label>
                                    <select class="form-select" id="articleAuthor" name="author" required>
                                        <option value="">Pilih penulis...</option>
                                        <option value="sergey">Sergey Campbell</option>
                                        <option value="anna">Anna Rodriguez</option>
                                        <option value="rahman">Rahman Hakim</option>
                                    </select>
                                </div>

                                <!-- Status -->
                                <div class="mb-3">
                                    <label for="articleStatus" class="form-label">Status <span
                                            class="text-danger">*</span></label>
                                    <select class="form-select" id="articleStatus" name="status" required>
                                        <option value="draft">Draft</option>
                                        <option value="published">Dipublikasi</option>
                                        <option value="archived">Diarsipkan</option>
                                    </select>
                                </div>

                                <!-- Publication Date -->
                                <div class="mb-3">
                                    <label for="publishDate" class="form-label">Tanggal Publikasi</label>
                                    <input type="datetime-local" class="form-control" id="publishDate"
                                        name="publish_date">
                                </div>

                                <!-- Tags -->
                                <div class="mb-3">
                                    <label for="articleTags" class="form-label">Tags</label>
                                    <input type="text" class="form-control" id="articleTags" name="tags"
                                        placeholder="Contoh: bisnis, startup, teknologi">
                                    <div class="form-text">Pisahkan dengan koma</div>
                                </div>

                                <!-- Featured Article -->
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="isFeatured"
                                            name="is_featured">
                                        <label class="form-check-label" for="isFeatured">
                                            Artikel Unggulan
                                        </label>
                                    </div>
                                </div>

                                <!-- Comments Allowed -->
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="allowComments"
                                            name="allow_comments" checked>
                                        <label class="form-check-label" for="allowComments">
                                            Izinkan Komentar
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                        <button type="button" class="btn btn-outline-primary" onclick="saveAsDraft()">Simpan sebagai
                            Draft</button>
                        <button type="submit" class="btn btn-primary">Simpan & Publikasi</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteModalLabel">Konfirmasi Hapus</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Apakah Anda yakin ingin menghapus berita ini?</p>
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Peringatan:</strong> Tindakan ini tidak dapat dibatalkan!
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-danger" id="confirmDelete">Ya, Hapus</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>